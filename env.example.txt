# ---------- Public / Paths ----------
PUBLIC_BASE_URL=http://192.168.50.222:8000
UPLOAD_DIR=/workspace/uploads
STATE_DIR=/workspace/uploads/state
DATASETS_ROOT=/workspace/uploads/artifacts/datasets
REF_ROOT=/workspace/uploads/artifacts/refs
PROMPTS_ROOT=/workspace/uploads/artifacts/prompts

# ---------- Orchestrator / Zero-touch ----------
ICW_MODE=committee
ICW_DISABLE=0
ABLATE=on
ABLATE_EXPORT=on
ABLATE_SCOPE=auto
AUTO_EXECUTE_TOOLS=true
ALLOW_TOOL_EXECUTION=true


# ---------- Film-2 QA thresholds (kept) ----------
FILM2_QA_T_FACE=0.85
FILM2_QA_T_VOICE=0.85
FILM2_QA_T_MUSIC=0.80

# ---------- ComfyUI (kept; optional) ----------
SCENE_SUBMIT_CONCURRENCY=2
COMFYUI_BACKOFF_MS=250
COMFYUI_BACKOFF_MAX_MS=4000
COMFYUI_MAX_RETRIES=6

# ---------- Core URLs ----------
COMFYUI_API_URL=http://comfyui:8188
# Where orchestrator will place assets so ComfyUI LoadImage nodes can see them
COMFY_INPUT_DIR=/comfyui/input
OCR_API_URL=http://ocr:8070
VLM_API_URL=http://vlm:8050
# Optional: path to your full ComfyUI workflow JSON inside the repo/container
COMFY_WORKFLOW_PATH=/workspace/services/image/workflows/pipeline_complex.json
WHISPER_API_URL=http://whisper:9090
XTTS_API_URL=http://xtts:8020
MUSIC_API_URL=http://music:7860
MELODY_API_URL=http://melody:7861D
SINGER_API_URL=http://dsinger:7862
RVC_API_URL=http://rvc:7863
VOCAL_FIXER_API_URL=http://vocalfix:7864
MASTERING_API_URL=http://master:7865
SFX_API_URL=http://sfx:7866
MFA_API_URL=http://mfa:7867
PROSODY_API_URL=http://prosody:7868
DEMUCS_API_URL=http://demucs:9101
FILM2_API_URL=http://film2:8090

# (Legacy/optional) If you still run these, define them locally (not used by default)
HUNYUAN_VIDEO_API_URL=http://hunyuan:9007

# HUNYUAN_FOLEY_API_URL=

# ---------- Postgres / RAG ----------
POSTGRES_HOST=pgvector
POSTGRES_PORT=5432
POSTGRES_DB=ragdb
POSTGRES_USER=rag
POSTGRES_PASSWORD=ragpass
EMBEDDING_MODEL_NAME=BAAI/bge-large-en-v1.5
RAG_CACHE_TTL_SEC=300

# ---------- NVIDIA / GPU ----------
CONTAINER_RUNTIME=runc
OLLAMA_RUNTIME=nvidia
NVIDIA_VISIBLE_DEVICES=all
NVIDIA_DRIVER_CAPABILITIES=compute,utility
NVIDIA_DISABLE_REQUIRE=1
GPU_DEVICES=all
OLLAMA_QWEN_GPU=0
OLLAMA_GPTOSS_GPU=1
FILM2_GPU=0
MUSIC_GPU=1

# ---------- HF / Hub behavior ----------
HF_HUB_ENABLE_HF_TRANSFER=1
HF_HUB_ENABLE_XET=0
HF_MAX_WORKERS=4
HF_HUB_ENABLE_PROGRESS_BARS=1
HF_HOME=/models/hfTRANSFORMERS_CACHE=/models/hfTORCH_HOME=/models/torch

# ---------- Torch channel (P40 + RTX8000 compatible) ----------
PIP_EXTRA_INDEX_URL=https://download.pytorch.org/whl/cu118

# ---------- LLMs / Defaults ----------
QWEN_MODEL_ID=qwen3:30b-a3b-instruct-2507-q4_K_M
GPTOSS_MODEL_ID=gpt-oss:20b
QWEN_VL_MODEL_ID=qwen3-vl:8b
DEFAULT_NUM_CTX=8192
DEFAULT_TEMPERATURE=0.3
PLANNER_MODEL=qwen
ENABLE_DEBATE=true
MAX_DEBATE_TURNS=1
ENABLE_WEBSEARCH=true

# ---------- Whisper / XTTS ----------
WHISPER_MODEL_NAME=large-v3
WHISPER_CPU_THREADS=8
XTTS_MODEL_NAME=tts_models/multilingual/multi-dataset/xtts_v2

# ---------- Music / SFX (OSS baseline now; YuE disabled) ----------
MUSIC_MODEL_ID=facebook/musicgen-large
MUSIC_MELODY_MODEL_ID=facebook/musicgen-melody
SFX_MODEL_ID=facebook/audiogen-medium
AUDIO_VARIATION_MODEL_ID=cvssp/audioldm2-large

# YuE disabled; provide weights and wire outside bootstrap if needed

# ---------- VLM (optional) ----------
VLM_MODEL_ID=Qwen/Qwen2-VL-7B-Instruct

# ---------- Fixer / Mastering targets ----------
AUDIO_KEY=E minor
AUDIO_BPM_LOCK=140
AUDIO_LUFS_TARGET=-14.0
AUDIO_LUFS_TOL=0.4
AUDIO_TP_CEILING_DB=-1.0
AUDIO_PITCH_DEV_CENTS_MAX=30
AUDIO_SPK_COS_MIN=0.88

AUDIO_MARKER_SYNC_MS_MAX=70
AUDIO_SIBILANCE_DB_MAX=-16
AUDIO_NOISE_FLOOR_DB_MAX=-55

# ---------- Tokens ----------
HUGGINGFACE_TOKEN=<your_hf_token>
SERPAPI_API_KEY=
